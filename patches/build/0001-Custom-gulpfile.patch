From 2462ee0588393f131c2f48a394c89a744a4b7d92 Mon Sep 17 00:00:00 2001
From: James <aslan.jnn@gmail.com>
Date: Mon, 26 Jan 2026 12:03:17 +1100
Subject: Custom gulpfile to support the build system

---
 build/gulpfile.jamestut.ts | 17 +++++++++++++++++
 build/gulpfile.reh.ts      |  1 +
 build/gulpfile.vscode.ts   |  1 +
 3 files changed, 19 insertions(+)
 create mode 100644 build/gulpfile.jamestut.ts

diff --git a/build/gulpfile.jamestut.ts b/build/gulpfile.jamestut.ts
new file mode 100644
index 00000000000..11f4c6398b7
--- /dev/null
+++ b/build/gulpfile.jamestut.ts
@@ -0,0 +1,17 @@
+import gulp from 'gulp';
+import * as task from './lib/task.ts';
+import { compileNonNativeExtensionsBuildTask, compileNativeExtensionsBuildTask, compileExtensionMediaBuildTask } from './gulpfile.extensions.ts';
+import { packageRehTask } from './gulpfile.reh.ts';
+import { packageClientTask } from './gulpfile.vscode.ts';
+
+gulp.task(task.define('compile-all-extensions', task.series(
+    compileNonNativeExtensionsBuildTask, compileExtensionMediaBuildTask, compileNativeExtensionsBuildTask
+)));
+
+gulp.task(task.define('package-vscode-reh-darwin-arm64', task.series(
+    packageRehTask("reh", "darwin", "arm64", "out-vscode-reh-min", "vscode-reh-darwin-arm64")
+)));
+
+gulp.task(task.define('package-vscode-darwin-arm64', task.series(
+    packageClientTask("darwin", "arm64", "out-vscode-min", "VSCode-darwin-arm64")
+)));
diff --git a/build/gulpfile.reh.ts b/build/gulpfile.reh.ts
index cb1a0a5fd69..ae78f33f74d 100644
--- a/build/gulpfile.reh.ts
+++ b/build/gulpfile.reh.ts
@@ -421,6 +421,7 @@ function packageTask(type: string, platform: string, arch: string, sourceFolderN
 		return result.pipe(vfs.dest(destination));
 	};
 }
+export const packageRehTask = packageTask;
 
 /**
  * @param product The parsed product.json file contents
diff --git a/build/gulpfile.vscode.ts b/build/gulpfile.vscode.ts
index ac70ecbd57f..61f89c6f144 100644
--- a/build/gulpfile.vscode.ts
+++ b/build/gulpfile.vscode.ts
@@ -465,6 +465,7 @@ function packageTask(platform: string, arch: string, sourceFolderName: string, d
 	task.taskName = `package-${platform}-${arch}`;
 	return task;
 }
+export const packageClientTask = packageTask;
 
 function patchWin32DependenciesTask(destinationFolderName: string) {
 	const cwd = path.join(path.dirname(root), destinationFolderName);
-- 
2.50.1 (Apple Git-155)
